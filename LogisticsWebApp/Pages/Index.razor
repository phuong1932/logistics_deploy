@page "/"
@inject NavigationManager Navigation
@inject JwtAuthService JwtService   
@inject Blazored.LocalStorage.ILocalStorageService LocalStorage
@code {
    protected override async Task OnInitializedAsync()
    {
        var token = await LocalStorage.GetItemAsync<string>("token");
        
        if (string.IsNullOrWhiteSpace(token))
        {
            Navigation.NavigateTo("/login", true);
            return;
        }
        
        var homePage = JwtService.GetHomePageByRole(token);
        Navigation.NavigateTo(homePage, true);
    }
}
